<!doctype>

<html>

	<head>
		<title> Cadastro de Elfos </title>
		<meta charset = "utf-8">

	</head>
	
	<body>

		<h3> Cadastre os Elfos!<h3>
		<form action="cadastro-elfos.html" method="post" enctype="multipart/form-data" >
		
			<div style="height: 50px;">
				<label for="nome">Nome:</label>
				<input id="nome"  required name="nome" type="text"  pattern= ".{6,}" title = "Mais de 6 caracteres">
			</div>
			
			<div style="height: 50px;">
				<label for="Sexo">Sexo:</label>
				<input type= "radio" required name = "sexo" value = "masculino"> Masculino
				<input type= "radio" required name = "sexo" value = "feminino"> Feminino
			</div>
			
			<div style="height: 50px;">
				<label for="number">Quantidade de flechas inicial:</label>
				 <input type = "number" name = "flechas" value = "42">
			</div>
			
			<div style="height: 50px;">
				<label for="dataNascimento">Data de Nascimento:</label>
				 <input type = "date" required name = "dataNascimento">
			</div>
			
			<div style="height: 50px;">
				<label for="status">Status Inicial do Elfo:</label>
				<select id = "nome" name = "status">
				<option id = "nome" value = "Dormindo">Dormindo</option>
				<option id = "nome" value = "Caçando">Caçando</option>
				<option id = "nome" value = "Piada">Contando Piada</option>
				</select>
			</div>
			
			<div style="height:50px;">
				<label for="itens">Itens Iniciais Elfo:</label>
				<input type="checkbox"  for="nome" name="itens" value="ArcoFlecha" checked> Arco e Flecha</input>
				<input type="checkbox"  for="nome" name="itens" value="Espada" > Espada de aço Porto-alegrense</input>
				<input type="checkbox"  for="nome" name="itens" value="Escudo" checked>Escudo de amburana</input>
				<input type="checkbox"  for="nome" name="itens" value="Poção">Poção HP</input>
			</div>
			
			<div style="height:50px;">
				<label for="imagem">Upload de imagem:</label>
				<input id="imagem" type="file" name="avatar" accept=".jpg, .png, .jpeg" onchange="return validarExt();" >
			</div>
			
			<div style="height:50px;">
			<input type = "submit" name = "enviar" value = "Cadastrar">
			</div>
			
		</form>
		
		<script>
			function validarExt() {
			
				//var inputFile = document.getElementsByName('avatar')[0];
				var inputFile = document.getElementById('avatar');
				var nomeArquivo = inputFile.value;
				var valida = false;
				var extensoesValidas = [ '.jpg', '.jpeg', '.png' ];
				
				for (var i = 0, len = extensoesValidas.length; i < len; i++) {
					var ext = extensoesValidas[i];
					var apenasAExtensao = nomeArquivo.substring(nomeArquivo.length-ext.length, nomeArquivo.length).toLowerCase();
										
					if (apenasAExtensao === ext.toLowerCase()) {
						valida = true;
						break;
					}
				}
				
				if (valida === false) {
					alert('Extensão inválida!');
					inputFile.value = null;
				}
				
				return valida;
			}
		</script>
	</body>
	
</html>